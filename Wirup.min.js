"use strict";var wirup=function(){};wirup.prototype=function(){var e,t=function(e){return document.getElementById(e)},n=(e,t,n,o)=>new Promise((r,a)=>{var i=new XMLHttpRequest;return i.open(e,t,!0),i.setRequestHeader("Content-Type",n),i.setRequestHeader("cache-control","no-cache"),i.setRequestHeader("expires","0"),i.setRequestHeader("expires","Tue, 01 Jan 1980 1:00:00 GMT"),i.setRequestHeader("pragma","no-cache"),i.onreadystatechange=(()=>{if(4===i.readyState)if(200===i.status)r(o(i.responseText));else{const e=i.statusText||"Your ajax request threw an error.";a(e)}}),i.send(),i.responseText}),o=window.location.hash.split("#")[1],r=t=>{e=JSON.parse(t).views},a=(o,r)=>n("GET","views/"+e[o].HTML,"text/plain; charset=UTF-8",e=>{t(r).innerHTML=e}),i={},s={},c={},u=e=>{t("contentBody").querySelectorAll('[datasource="'+e+'"]').forEach(t=>{t.innerHTML=d(t.tagName.toLowerCase(),e),l("Updated Data.",t.tagName.toLowerCase(),"No Comment.")})},d=(e,t)=>{let n="";switch(typeof i[t]){case"object":n=i[t].map((t,n)=>s[e](t));break;case"string":n=s[e](i[t])}return n.join("")},w=function(e){return new Promise((t,n)=>{var o=document.createElement("script");o.type="text/javascript",o.src=e+"?"+(new Date).getTime(),document.getElementsByTagName("head")[0].appendChild(o),o.onload=(()=>{t()}),o.onabort=(()=>{n()})})},p="",l=(e,t,n)=>{let o=(new Date).getTime(),r={name:e,element:t,comment:n,profile:p,timestamp:o},a=localStorage.getItem("wuActions");localStorage.setItem("wuActions",a+","+JSON.stringify(r))},m=i=>new Promise(function(s,c){w("components/components.js").then(()=>{(()=>n("GET","views/views.json","application/json; charset=UTF-8",r))().then(()=>{(t=>new Promise((n,r)=>{let i;var s=o;if(void 0!==o&&"/"!=o||(window.location="/#/"),e){for(var c=0;c<=e.length-1;c++)e[c].url==s&&(i=c);void 0===i&&(i=0),a(i,t).then(()=>{n()})}}))("contentBody").then(()=>{(()=>new Promise(function(e,n){var o=t("contentBody").querySelectorAll("[datasource]");[].forEach.call(o,e=>{e.innerHTML=d(e.tagName.toLowerCase(),e.getAttribute("datasource"))}),l("Switched View","Content Body","No Comment."),e()}))().then(()=>{window.onhashchange=function(){window.location.hash!=o&&(o=window.location.hash.split("#")[1],h())},void 0!==i&&(e=>window[e]())(i)})})})})}),h=e=>{m(e)};return{wu:t,wijax:n,jsonize:function(e){try{return JSON.parse(window[e])}catch(t){return window[e]}},loadScript:w,registerComponent:(e,t)=>{s[e]=t},registerProfile:e=>{p=e},registerAction:l,buildComponent:d,buildComponents:(e,t)=>{let n="";return e.forEach((e,o)=>{switch(dataSourceType=typeof i[t[o]],dataSourceType){case"object":n=i[t[o]].map((t,n)=>s[e](t));break;case"string":n=s[e](i[t[o]])}}),n.join("")},registerData:(e,t)=>{Object.defineProperty(i,e,{get:function(){return this["_"+e]},set:function(t){this["_"+e],this["_"+e]=t,u(e)}}),i[e]=t},addData:(e,t)=>{var n=[];(n=i[e]).push(t),i[e]=n,n=[]},findIndexByKey:(e,t,n)=>{return wuObject.dataStore[e].findIndex(function(e){return e[t]==n})},updateData:(e,t,n)=>{var o=[];(o=i[e])[t=t-1<0?0:t-1]=n,i[e]=o,o=[]},removeData:(e,t)=>{var n=[];t=t-1<0?0:t-1,(n=i[e]).splice(t,1),i[e]=n,n=[]},dataStore:i,onLoad:e=>{Object.defineProperty(c,"trigger",{get:function(){return this._trigger},set:function(e){this._trigger,this._trigger=e,window[e]()}}),c.trigger=e},components:s,init:h}}(),window.wuObject=new wirup;